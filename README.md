<p style="text-align: center; font-size: 36px;"><strong>"瓜大喵记" 说明文档</strong></p>

本项目获西北工业大学移动应用开发赛三等奖，虽然项目和代码写的挺烂，但是我还是不太理解为什么一群大学生在创新创业类的编程比赛中写出的一等奖项目是一个目标用户为中年人的邀请制的相亲软件hh
## 1.产品说明

​	"瓜大喵记" 是一个致力于优化当代大学校园人猫关系、管理校园内流浪动物的移动应用程序。"瓜大喵记"通过猫脸识别技术提取每一只猫咪独特的面部特征，并为校园内的每一只猫建立专属的动物档案，每份动物档案都包含了猫咪的基本信息，记录下每一只猫咪的性格特点和喜好，帮助用户更好地了解每一只猫咪，并且能够避免一些不必要的风险行为。

​	此外，“瓜大喵记”创建了一张独特的“猫猫地图”，详细统计校园内每只猫咪的出没地点。这不仅有助于流浪动物的管理，还能方便校园管理人员对流浪猫进行及时的关注和照顾。通过“瓜大喵记”，校园内的师生可以更好地了解这些可爱的动物，营造和谐的人猫共处环境；校园管理人员能够对校内流浪猫进行信息化管理，及时了解校园内流浪猫的信息。



## 2.应用场景

#### 2-1 校内猫咪互动

​	在校园中偶遇一只猫咪时，你是否想要成为它的首位发现者并了解它的一切？使用"瓜大喵记"应用，只需通过手机摄像头捕捉猫咪的正脸，即可解锁它的详细信息，包括名字、性别等。如果这是一只尚未被记录的猫咪，你将有机会赋予它一个独一无二的名字，并探索它的品种背景。"瓜大喵记"让每位校园猫咪探索者都能与这些毛茸茸的朋友建立更深层次的联系，共同营造一个温馨、有爱的校园环境。

#### 2-2 流浪动物管理

​	西北工业大学长安校区，坐落于秦岭山脉的脚下，享有壮丽的自然风光和清新的空气。然而，这片美丽的土地也吸引了众多流浪动物，给校园管理带来了一系列挑战。如何人道且有效地管理这些流浪动物是学校所面临着的重大难题。为了解决这一问题，"瓜大喵记"开发了一个创新的解决方案。我们为校园内的流浪猫创建了详尽的独立动物档案，并绘制了它们的活动地图。这一系统不仅帮助管理人员快速定位流浪猫的常出没地点，还通过猫脸识别技术，使得管理人员能够轻松识别并追踪特定的猫咪。由此可见，"瓜大喵记"不仅提升了校园流浪动物的管理效率，也体现了学校对生态保护和动物福利的重视。通过科技与人文关怀的结合，创造一个更加安全、健康、和谐的校园环境。

#### 2-3 猫毛过敏用户

​	猫毛过敏，这个常被低估的小困扰，实则对许多人的日常生活造成了深远的影响。过敏反应不仅令人痛苦不堪，有时还可能引发严重的健康问题。在校园内，流浪猫的增多使得这一问题变得更加突出。为了缓解过敏者的痛苦，"瓜大喵记"特别开发了猫猫地图功能，我们创建了一个详尽的猫咪活动地图，清晰地标示出猫咪密集的区域，为过敏者提供了宝贵的空间信息，并且我们鼓励用户积极参与，实时更新猫咪的出现信息，确保地图的时效性和准确性。通过科技的力量结合人文关怀，我们致力于创造一个更加包容和舒适的校园生活空间，让每个人都能感受到校园的温暖和关怀。

#### 2-4 流浪动物健康管理

​	流浪动物的健康管理是一项至关重要的任务，它不仅关乎动物自身的福祉，更对校园乃至整个社区的公共卫生安全产生深远影响。大学校园是众多流浪动物的栖息之所，但随之而来的动物健康问题亟需关注。为此，"瓜大喵记"通过了猫猫档案功能，旨在通过为每一只流浪猫建立详尽的健康档案，记录疫苗接种和疾病治疗等关键信息，并通过平台加强宣传教育，提高公众对动物保护的意识。同时，通过有效的疾病预防和控制措施，降低流浪动物可能带来的公共卫生风险，借助科技的力量和社区的共同努力，为流浪动物营造一个更健康、更安全的生活环境，也为校园带来更加和谐与安宁的氛围。



## 3.解决的实际问题

#### 3-1 猫脸识别

​	本项目采用了OpenCV的图像处理技术以及基于卷积神经网络的深度学习算法，开发了一套猫脸识别系统。这项创新技术的应用，有效解决了传统依赖人工识别流浪猫身份时存在的效率低下和错误率高的问题。利用自动化的识别流程，我们能够迅速为每一只流浪猫创建详尽且独特的身份档案，详尽记录它们的品种、性别及健康状况等关键信息。

​	这一技术的实施，大幅提升了流浪猫管理的效率和准确性，同时也为猫咪的健康管理和疾病预防工作提供了坚实的技术支撑。通过识别每一只猫咪的身份信息，我们能够更好地监测它们的健康状况，及时进行疾病预防和治疗。

#### 3-2 校园流浪猫图鉴

​	本项目精心构建了一个校园流浪猫图鉴，为每一只流浪猫提供了一个专属的档案。这个图鉴详尽地记录了猫咪的基础信息，包括它们的品种、年龄、健康状况等，并希望能够进一步与用户沟通，深入捕捉了猫咪的日常行为习惯、性格特征等个性化内容。通过这一图鉴，我们不仅为流浪猫建立了一个立体的数字身份，而且极大地提升了校园社区对这些毛茸茸朋友的了解和关怀。

​	流浪猫图鉴的创建，不仅加深了校园成员对流浪猫生活状态的认识，还能推动了校园内人与动物和谐共处的文化氛围的形成。此外，图鉴中收集的丰富数据，为校园动物管理提供了重要的参考信息，有助于他们更精准地制定保护措施和开展救助活动。

#### 3-3 猫猫地图

​	本项目推出的猫猫地图是一个创新的数字化工具，它以直观的可视化手段，精确地映射了校园内流浪猫的活动区域和分布图谱。这一工具不仅为过敏者提供了实用的导航辅助，使他们能够避开猫咪频繁出现的区域，有效降低过敏反应的风险，同时也为校园管理部门提供了流浪猫管理的有力数据支持。

​	猫猫地图的使用，让所有用户都能够实时追踪猫咪的出没地点，从而做出更为明智的行动规划，减少与流浪猫的非计划性接触。更重要的是，地图收集的动态数据为分析猫咪的活动模式提供了科学依据，这些分析结果对于优化校园环境布局、提升动物福利以及制定相关政策具有重要的参考价值。

​	通过这一地图，我们期望能够促进校园社区成员对流浪猫生活习性的了解，加强人与动物和谐共存的意识，同时为校园的可持续发展和生态平衡提供决策支持，共同营造一个更加友好和包容的校园环境。

#### 3-4 流浪动物健康管理

​	"瓜大喵记"通过了猫猫档案功能，旨在通过为每一只流浪猫建立详尽的健康档案，记录疫苗接种和疾病治疗等关键信息，提高公众对动物保护的意识。同时，通过有效的疾病预防和控制措施，降低流浪动物可能带来的公共卫生风险，借助科技的力量和社区的共同努力，为流浪动物营造一个更健康、更安全的生活环境，也为校园带来更加和谐与安宁的氛围。



## 4.产品设计

#### 4-1 目标用户

​	在产品设计阶段，我们明确了三类主要的目标用户群体，以满足不同用户的需求和期望：

1. **校园爱猫用户**：这一群体包括所有对猫咪有深厚感情并希望与它们互动的在校大学生。他们将使用我们的应用程序来寻找和了解校园中的猫咪。
2. **校园管理人员**：负责校园环境管理的管理人员，他们可以利用"瓜大喵记"来管理校园内的流浪猫数量并监控健康状况，以避免出现不必要的接触风险。
3. **避猫人员**：包括对猫咪过敏或希望避免与猫咪接触的人员。他们将依赖我们的应用程序来识别猫咪常出现的区域，以便规划自己的活动路线，减少不必要的接触。

​	通过识别并满足这些用户群体的需求，"瓜大喵记"将为大学校园内的不同成员提供定制化服务，增强用户体验，并促进校园环境的和谐共生。

#### 4-2 市场分析

​	"瓜大喵记"专注于大学校园这一特定环境。在软件开发之初，我们对市场上现有的类似产品与服务进行了评估，如北京大学开发的北大猫协小程序。我们注意到，尽管此类应用程序在信息传递方面发挥了作用，但它们在用户互动性方面存在局限，往往只能提供单向的信息流，缺少了用户向猫之间的交流。

​	针对这一发现，"瓜大喵记"进行了创新设计，打破了传统模式，引入了更丰富的互动性。我们的产品不仅允许用户接收信息，更鼓励他们参与到内容的创造和分享中来。通过这种方式，"瓜大喵记"成功地转变了用户的角色，从被动的信息接收者变为积极的参与者和贡献者，提升了用户体验，并促进了校园社区内的交流与互动。

​	此外，"瓜大喵记"还通过引入猫脸识别和地图标记，进一步增强了产品的功能性和吸引力。这些创新不仅提升了用户互动的质量，也为校园内动物的管理和保护提供了有力支持。

#### 4-3 设计原则

1. **用户中心化**：我们的设计始终以用户为中心，深入理解并满足目标用户群体的需求和期望。通过用户调研、反馈循环和角色扮演，确保设计决策紧密围绕用户行为和偏好。

2. **简洁性**：追求界面和操作的简洁性，去除多余元素，让用户能够直观、快速地理解如何使用产品。采用清晰的布局、直观的图标和一致的设计风格，减少用户的使用负担。

3. **可用性**：确保产品易于使用，无论用户的技术熟练程度如何。设计直观的用户界面，提供清晰的导航和帮助指南，确保所有用户都能顺畅地使用产品。

4. **响应性**：产品能在不同设备和屏幕尺寸上提供一致的体验。使用灵活的布局确保在手机、平板和桌面电脑上都能良好显示。

5. **互动性**：鼓励用户参与和反馈，使产品成为一个动态的、可交互的平台，促进社区参与和信息交流。

   

## 5.技术实现方案

#### 5-1 前端

​	"瓜大喵记"采用微信开发者工具进行前端开发，开发过程中导入了Vant-Weapp([youzan/vant-weapp (github.com)](https://github.com/youzan/vant-weapp))组件库，以美化小程序。本项目在开发过程中使用Git进行代码管理，代码采用模块化设计，便于后期扩展和维护。本项目在技术实现过程中，调用了百度AI开放平台的动物识别API，以获取图像对应猫咪的种族，同时调用了腾讯地图API以实现猫猫地图。

**5-1-1 猫脸识别**

​	"瓜大喵记"在实现猫脸识别功能时，调用了微信小程序的*wx.chooseMedia*函数调用系统相机与相册实现上传图片功能，当图片上传到服务器后端后，将会将图片进行处理后经过卷积神经网络并将分类的标签与置信度返回，若置信度大于阈值则直接输出标签，若置信度小于阈值则会调用百度AI开放平台的API进行动物识别，返回其种类，并提示用户可以为该猫进行取名。

**5-1-2 猫猫档案**

​	"瓜大喵记"在实现猫猫档案功能时，借鉴了北大猫协小程序的设计思路，并在此基础上进行了创新和改进。为了避免在北大猫协小程序中重复创建大量页面(pages)的弊端，我们优化了代码结构，提高了开发效率和应用性能。在前端开发方面，我们主要采用了*Vant-Weapp UI*组件库中的*Tabs*组件并构建了template模板，实现了一个灵活且功能丰富的选项卡界面，简化了开发流程，还增强了应用的可维护性和扩展性。

**5-1-3 猫猫地图**		

​	"瓜大喵记"在实现猫猫地图功能时，调用了腾讯地图的API，利用其地图服务能力，实现了精确的地理位置定位。我们将地图的默认中心点设定在西北工业大学长安校区的中心位置，确保用户一进入地图功能就能快速定位到校园的中心区域，并添加了大量猫咪标记，以便用户直观了解到猫咪出没地点。

​	本项目在前端开发过程中参考了如下开源项目：

​	[SCCAPKU/miniprogram: 北大猫协小程序 (github.com)](https://github.com/SCCAPKU/miniprogram)，

​	使用了第三方API服务：

​	[百度AI开放平台(baidu.com)](https://ai.baidu.com/)

​	[微信小程序JavaScript SDK | 腾讯位置服务 (qq.com)](https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview)

​	引入了第三方开源组件库:

​	[youzan/vant-weapp: 轻量、可靠的小程序 UI 组件库 (github.com)](https://github.com/youzan/vant-weapp)

​	使用了如下开发工具:

​	[Git (git-scm.com)](https://git-scm.com/)

​	[Visual Studio Code - Code Editing. Redefined](https://code.visualstudio.com/)

​	[微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html)

#### 5-2 后端

​	"瓜大喵记"后端采用Python语言进行搭建，Python 是一个高层次的结合了解释性、编译性、互动性和面向对象的脚本语言，易于学习、维护，可拓展性强，适用于微信小程序的后端搭建。

​	"瓜大喵记"通过导入Flask框架实现了前端与后端的数据交互功能。Flask是目前十分流行的web框架，采用Python编程语言来实现相关功能，Flask旨在保持代码简洁且易于扩展，Flask具有很好的拓展性，正适合进行微信小程序的后端搭建，以下代码搭建了简单的Flask框架实现前后端数据传输功能。

```Python
app = Flask(__name__)

# 上传文件夹
UPLOAD_FOLDER = 'uploads/'
app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER
os.makedirs(app.config['UPLOAD_FOLDER'], exist_ok=True)

@app.route('/upload', methods=['POST'])
def upload_image():
    if 'image' not in request.files:
        return jsonify({'error': '未收到图像文件，请重新上传文件！'}), 400
    file = request.files['image']
    if file.filename == '':
        return jsonify({'error': '选择图像失败，请重新上传文件！'}), 400
    if file:
        filename = secure_filename(file.filename)
        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)
        file.save(file_path)
if __name__ == '__main__':
    app.run(debug=True)

```

​	"瓜大喵记"通过调用OpenCV中的Haar特征分类器Haarcascade_frontalcatface([haarcascade_frontalcatface.xml (github.com)](https://github.com/murtazahassan/OpenCV-Python-Tutorials-and-Projects/blob/master/Intermediate/Custom Object Detection/haarcascades/haarcascade_frontalcatface.xml))对上传的图像进行预处理。图像预处理过程中将从上传的图像中提取出猫脸，并将RGB图像转为灰度图像，并将图像大小调整至64x64，以提高的模型计算效率，如下代码进行了图像的预处理功能：

```python
def cat_face_recognize(img_path):
    cat_haar_path = 'haarcascade_frontalcatface.xml'
    # 读取Haar特征分类器XML文件
    face_cascade = cv2.CascadeClassifier(cat_haar_path)
    img = cv2.imread(img_path)
    if img is None:
        raise ValueError("Image could not be loaded")
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    # 使用Haar特征分类器检测猫脸
    faces = face_cascade.detectMultiScale(
        gray,
        scaleFactor=1.02,
        minNeighbors=3,
        minSize=(150, 150),
        flags=cv2.CASCADE_SCALE_IMAGE
    )
    if len(faces) == 0:
        return None
    x, y, w, h = faces[0]
    cut_img = gray[y: y + h, x: x + w]
    # 调整图像大小
    cut_img = cv2.resize(cut_img, (64, 64))  
    img_array = np.array(cut_img, dtype=np.float32)
    return img_array
```

​	此外，"瓜大喵记"采用TensorFlow框架搭建了一个卷积神经网络(CNN)，用于对预处理后的图像进行进一步的分类处理。限于可搜集到的数据集大小，该模型仅进行六分类，当后台用户上传图像时，能够扩充数据集，增加模型的分辨类别，具体功能的实现需要增加用户量并实际上线使用。

